# Copyright (c) Qualcomm Technologies, Inc. and/or its subsidiaries.
# SPDX-License-Identifier: BSD-3-Clause-Clear

# yaml-language-server: $schema=../../../../../schemas/inst_schema.json

$schema: inst_schema.json#
kind: instruction
name: qc.c.ptrace
long_name: Tracing pseudo-instruction (hint) working only in simulation environment
description: |
  The tracing instruction have no explicit arguments.
  Implicit arguments defined by simulation environment implementation.
  Instruction is used to signal simulator to collect some tracing information.
  Instruction encoded in CI instruction format.
definedBy:
  allOf:
    - xlen: 32
    - extension:
        name: Xqcisim
assembly: ""
format:
  size: 16
  opcodes:
    - displayName: funct3
      location: 15-13
      value: 0b000
    - displayName: f
      location: 12
      value: 0b0
    - displayName: funct5
      location: 11-7
      value: 0b00000
    - displayName: funct5
      location: 6-2
      value: 0b00000
    - { $ref: inst_opcode/c2.yaml# }
access:
  s: always
  u: always
  vs: always
  vu: always
operation(): |
  XReg func = 9;
  XReg arg = 0;
  iss_syscall(func,arg);
